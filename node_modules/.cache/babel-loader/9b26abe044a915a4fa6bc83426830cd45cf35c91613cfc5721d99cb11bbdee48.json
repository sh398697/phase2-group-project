{"ast":null,"code":"import _slicedToArray from\"/Users/scotthenry/Development/code/phase-2/phase2-group-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState}from\"react\";import{NavLink}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function BookCard(_ref){var book=_ref.book,removeBookFromState=_ref.removeBookFromState,currentUser=_ref.currentUser,checkOutBook=_ref.checkOutBook,isMyBooks=_ref.isMyBooks,handleReturnBookClick=_ref.handleReturnBookClick;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),detailToggle=_useState2[0],setDetailToggle=_useState2[1];function bookDetailToggle(){setDetailToggle(!detailToggle);}function handleDelete(id){fetch(\"http://localhost:6001/books/\".concat(id),{method:'DELETE',headers:{'Content-Type':'application/json'}}).then(function(r){return r.json();}).then(function(){return removeBookFromState(id);});}function handleCheckOutClick(){//Update book to owner=currentUser\ncheckOutBook(book);}var isLoggedIn=currentUser;return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-4 rounded-lg rounded-tl-[70px] w-full max-w-[240px] mx-auto my-2 cursor-pointer hover:scale-105 duration-200\",children:[detailToggle?null:/*#__PURE__*/_jsx(\"img\",{className:\"mx-auto max-w-[200px] max-h-[300px] rounded-lg rounded-tl-[50px]\",src:book.image,alt:book.title,onClick:bookDetailToggle}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-x-1 text-xs\",children:detailToggle?/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-[240px] cursor-pointer text-xs h-[300px]\",onClick:bookDetailToggle,children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Title:\",book.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Author: \",book.author]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Genre: \",book.genre]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Published: \",book.year]}),/*#__PURE__*/_jsxs(\"div\",{className:\"font-bold text-2l pt-4\",children:[\"Review: \",book.review]})]}):null}),isMyBooks?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center justify-center\",onClick:function onClick(){return handleReturnBookClick(book);},children:\"Return Book\"})},book.id):/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[book.owner?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center\",children:[\"Checked out to: \",book.owner]}):null,isLoggedIn&&!book.owner?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center justify-center\",onClick:handleCheckOutClick,children:\"Check Me Out\"})}):null,!isLoggedIn&&!book.owner?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",exact:true,className:\"flex items-center justify-center\",children:\"Login to Check Out\"})})}):null]}),/*#__PURE__*/_jsx(\"div\",{children:currentUser===\"admin\"?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"flex items-center justify-center\",type:\"button\",onClick:function onClick(){return handleDelete(book.id);},children:\"Remove Book\"})}):null})]});}export default BookCard;","map":{"version":3,"names":["React","useState","NavLink","jsx","_jsx","jsxs","_jsxs","BookCard","_ref","book","removeBookFromState","currentUser","checkOutBook","isMyBooks","handleReturnBookClick","_useState","_useState2","_slicedToArray","detailToggle","setDetailToggle","bookDetailToggle","handleDelete","id","fetch","concat","method","headers","then","r","json","handleCheckOutClick","isLoggedIn","className","children","src","image","alt","title","onClick","author","genre","year","review","owner","to","exact","type"],"sources":["/Users/scotthenry/Development/code/phase-2/phase2-group-project/src/components/BookCard.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\n\nfunction BookCard({book, removeBookFromState, currentUser, checkOutBook, isMyBooks, handleReturnBookClick}) {\n\n  const [detailToggle, setDetailToggle] = useState(false)\n\n  function bookDetailToggle(){\n    setDetailToggle(!detailToggle)\n  }\n\n  function handleDelete(id) {\n    fetch(`http://localhost:6001/books/${id}`, {\n      method: 'DELETE',\n      headers: {'Content-Type': 'application/json'}\n    })\n      .then(r => r.json())\n      .then(() => removeBookFromState(id)      )\n  }\n\n  function handleCheckOutClick() {\n    //Update book to owner=currentUser\n    checkOutBook(book);\n  }\n\n  const isLoggedIn = currentUser;\n\n  return (\n      <div className=\"bg-white p-4 rounded-lg rounded-tl-[70px]\n       w-full max-w-[240px] mx-auto my-2 cursor-pointer hover:scale-105 duration-200\">\n        { detailToggle ? (null) : <img className='mx-auto max-w-[200px] max-h-[300px] rounded-lg rounded-tl-[50px]' src={book.image} alt={book.title} onClick={bookDetailToggle}/>}     \n         <div className= \"flex gap-x-1 text-xs\">\n            { detailToggle ? (\n              <div className=\"p-4 max-w-[240px] cursor-pointer text-xs h-[300px]\" onClick={bookDetailToggle}>\n                <div>Title:{book.title}</div>\n                <div>Author: {book.author}</div>\n                <div>Genre: {book.genre}</div> \n                <div>Published: {book.year}</div>\n                <div className=\"font-bold text-2l pt-4\">Review: {book.review}</div>\n            </div>) : null}\n          </div>\n\n          {(isMyBooks) ? (\n            <div className=\"flex items-center justify-center\" key={book.id}>\n                <button className=\"flex items-center justify-center\" onClick={() => handleReturnBookClick(book)}>Return Book</button></div>) : (<div className=\"flex items-center justify-center\" > \n                { book.owner ? (<div className=\"flex items-center justify-center\" >Checked out to: {book.owner}</div>) : (null)} \n                { (isLoggedIn && !book.owner) ? (<div className=\"flex items-center justify-center\"><button className=\"flex items-center justify-center\" onClick={handleCheckOutClick}>Check Me Out</button></div>) : (null)}\n                { (!isLoggedIn && !book.owner) ? (<div className=\"flex items-center justify-center\" ><button className=\"flex items-center justify-center\"><NavLink to=\"/login\" exact className=\"flex items-center justify-center\">Login to Check Out</NavLink></button></div>) : (null)}\n                </div>)}\n              <div>{currentUser === \"admin\" ? (<div className=\"flex items-center justify-center\"><button className=\"flex items-center justify-center\" type=\"button\" onClick={()=>handleDelete(book.id)}>Remove Book</button></div>) : (null)}</div>\n      </div>\n    );\n}\n\nexport default BookCard;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}