{"ast":null,"code":"import _slicedToArray from\"/Users/scotthenry/Development/code/phase-2/phase2-group-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Route,Switch}from\"react-router-dom\";import Search from\"./Search\";import BookList from\"./BookList\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function HomePage(_ref){var books=_ref.books,setBooks=_ref.setBooks,currentUser=_ref.currentUser,checkOutBook=_ref.checkOutBook;function removeBookFromState(bookID){var filteredArray=books.filter(function(book){return book.id!==bookID;});setBooks(filteredArray);}var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var changeSearchTerm=function changeSearchTerm(newString){return setSearchTerm(newString.toLowerCase());};var byKeyword=function byKeyword(bookObj){if(bookObj.title.toLowerCase().includes(searchTerm)||bookObj.author.toLowerCase().includes(searchTerm)||bookObj.genre.toLowerCase().includes(searchTerm)){return true;}};var searchedBooks=books.filter(byKeyword);useEffect(function(){fetch('http://localhost:6001/books').then(function(r){return r.json();}).then(setBooks);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto bg-gray-200 rounded-xl border p-8 m-10\",children:[/*#__PURE__*/_jsx(Search,{changeSearchTerm:changeSearchTerm}),/*#__PURE__*/_jsx(BookList,{books:searchedBooks,removeBookFromState:removeBookFromState,currentUser:currentUser,checkOutBook:checkOutBook})]});}export default HomePage;{/* <NewBookForm currentUser={currentUser} addBookToState={ addBookToState }/> */}","map":{"version":3,"names":["React","useState","useEffect","Route","Switch","Search","BookList","jsx","_jsx","jsxs","_jsxs","HomePage","_ref","books","setBooks","currentUser","checkOutBook","removeBookFromState","bookID","filteredArray","filter","book","id","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","changeSearchTerm","newString","toLowerCase","byKeyword","bookObj","title","includes","author","genre","searchedBooks","fetch","then","r","json","className","children"],"sources":["/Users/scotthenry/Development/code/phase-2/phase2-group-project/src/components/HomePage.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport Search from \"./Search\";\nimport BookList from \"./BookList\";\n\nfunction HomePage({books, setBooks, currentUser, checkOutBook}) {\n\n\n  function removeBookFromState(bookID) {\n    \n    const filteredArray = books.filter(book => {\n      return (book.id !== bookID)\n    })\n    setBooks(filteredArray)\n  }\n\n  const [ searchTerm, setSearchTerm ] = useState( '' )\n\n  const changeSearchTerm = newString => setSearchTerm( newString.toLowerCase() )\n\n  const byKeyword = bookObj => {\n    if(( bookObj.title.toLowerCase().includes( searchTerm ) ) || ( bookObj.author.toLowerCase().includes( searchTerm ) ) || ( bookObj.genre.toLowerCase().includes( searchTerm ) ) ) {\n      return true\n    }\n  }\n\n  const searchedBooks = books.filter( byKeyword )\n\n  useEffect( () => {\n    fetch( 'http://localhost:6001/books' )\n      .then( r => r.json() )\n      .then( setBooks )\n  }, [] )\n\n  return (\n      <div className=\"container mx-auto bg-gray-200 rounded-xl border p-8 m-10\">\n        <Search changeSearchTerm={ changeSearchTerm } />\n        <BookList books={searchedBooks} removeBookFromState={removeBookFromState} currentUser={currentUser} checkOutBook={checkOutBook} />\n      </div>\n    );\n}\n\nexport default HomePage;\n\n{/* <NewBookForm currentUser={currentUser} addBookToState={ addBookToState }/> */}"],"mappings":"qJAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAChD,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAElC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAA+C,IAA7C,CAAAC,KAAK,CAAAD,IAAA,CAALC,KAAK,CAAEC,QAAQ,CAAAF,IAAA,CAARE,QAAQ,CAAEC,WAAW,CAAAH,IAAA,CAAXG,WAAW,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CAG3D,QAAS,CAAAC,mBAAmBA,CAACC,MAAM,CAAE,CAEnC,GAAM,CAAAC,aAAa,CAAGN,KAAK,CAACO,MAAM,CAAC,SAAAC,IAAI,CAAI,CACzC,MAAQ,CAAAA,IAAI,CAACC,EAAE,GAAKJ,MAAM,CAC5B,CAAC,CAAC,CACFJ,QAAQ,CAACK,aAAa,CAAC,CACzB,CAEA,IAAAI,SAAA,CAAsCtB,QAAQ,CAAE,EAAE,CAAE,CAAAuB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA5CG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAEjC,GAAM,CAAAI,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAGC,SAAS,QAAI,CAAAF,aAAa,CAAEE,SAAS,CAACC,WAAW,EAAE,CAAE,GAE9E,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAGC,OAAO,CAAI,CAC3B,GAAKA,OAAO,CAACC,KAAK,CAACH,WAAW,EAAE,CAACI,QAAQ,CAAER,UAAU,CAAE,EAAQM,OAAO,CAACG,MAAM,CAACL,WAAW,EAAE,CAACI,QAAQ,CAAER,UAAU,CAAI,EAAMM,OAAO,CAACI,KAAK,CAACN,WAAW,EAAE,CAACI,QAAQ,CAAER,UAAU,CAAI,CAAG,CAC/K,MAAO,KAAI,CACb,CACF,CAAC,CAED,GAAM,CAAAW,aAAa,CAAGxB,KAAK,CAACO,MAAM,CAAEW,SAAS,CAAE,CAE/C7B,SAAS,CAAE,UAAM,CACfoC,KAAK,CAAE,6BAA6B,CAAE,CACnCC,IAAI,CAAE,SAAAC,CAAC,QAAI,CAAAA,CAAC,CAACC,IAAI,EAAE,GAAE,CACrBF,IAAI,CAAEzB,QAAQ,CAAE,CACrB,CAAC,CAAE,EAAE,CAAE,CAEP,mBACIJ,KAAA,QAAKgC,SAAS,CAAC,0DAA0D,CAAAC,QAAA,eACvEnC,IAAA,CAACH,MAAM,EAACuB,gBAAgB,CAAGA,gBAAkB,EAAG,cAChDpB,IAAA,CAACF,QAAQ,EAACO,KAAK,CAAEwB,aAAc,CAACpB,mBAAmB,CAAEA,mBAAoB,CAACF,WAAW,CAAEA,WAAY,CAACC,YAAY,CAAEA,YAAa,EAAG,GAC9H,CAEZ,CAEA,cAAe,CAAAL,QAAQ,CAEvB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}